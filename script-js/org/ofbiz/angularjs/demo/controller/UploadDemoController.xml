<?xml version="1.0" encoding="UTF-8"?>
<javascript-class name="UploadDemoController" package="org.ofbiz.angularjs.demo.controller">
    <javascript-method name="UploadDemoController">
        <attributes>
            <attribute name="$scope" type="Object" mode="IN"/>
        </attributes>
        <body><![CDATA[
            $scope.uploadComplete = function (content, completed) {
                if (completed && content.length > 0) {
                  $scope.response = JSON.parse(content); // Presumed content is a json string!
                  $scope.response.style = {
                    color: $scope.response.color,
                    "font-weight": "bold"
                  };
            
                  // Clear form (reason for using the 'ng-model' directive on the input elements)
                  $scope.fullname = '';
                  $scope.gender = '';
                  $scope.color = '';
                  // Look for way to clear the input[type=file] element
                }
            };
        ]]></body>
    </javascript-method>
</javascript-class>
